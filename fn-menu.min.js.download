(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{attachEvent:()=>c,detachEvent:()=>r,off:()=>v,on:()=>m,qs:()=>s,qsAll:()=>a,toArray:()=>p});const t=function(e){return"click"!==e.type&&new Promise((n=>{let t=null,o=null;const i=e.timeStamp,s=e=>{t=e.touches[0].clientX,o=e.touches[0].clientY},a=e=>{var l;this.removeEventListener("touchend",a,{passive:!0}),this.removeEventListener("touchmove",s,{passive:!0}),l=e.timeStamp,!t&&!o&&l-i<=300&&n()};this.addEventListener("touchmove",s,{passive:!0}),this.addEventListener("touchend",a,{passive:!0})}))},o=(()=>{let e=!0;return()=>new Promise((n=>{setTimeout((()=>{e=!0}),500),e&&(e=!1,n())}))})(),i=(e=[])=>n=>function(t){const o=e.map((e=>e.call(this,t)));return Promise.all(o).then((()=>{n.call(this,t)})).catch((()=>!1))},s=(e,n=document)=>n.querySelector(e),a=(e,n=document)=>n.querySelectorAll(e),l=(e,n,t,o)=>{n.addEventListener(e,t,o)},c=(e,n,t,o={})=>{if(n.length)for(let i=0;i<n.length;i+=1)l(e,n[i],t,o);else l(e,n,t,o)},r=(e,n,t,o={})=>{if(n.length)for(let i=0;i<n.length;i+=1)n[i].removeEventListener(e,t,o);else n.removeEventListener(e,n,t,o)},u=(e,n)=>t=>{const o=((e,n)=>{let t=e;for(;1===(o=t).nodeType&&!o.classList.contains(n);)t=t.parentNode;var o;return t.classList&&t.classList.contains(n)?t:null})(t.target,e);o&&n.call(o,t)};let d={};const m=(e,n,t,o={},i=document.body)=>{const s=`${n}--${e}`;d=Object.assign({},d,{[s]:u(n,t)}),i.addEventListener(e,d[s],o)},v=(e,n,t,o={},i=document.body)=>{i.removeEventListener(e,d[`${n}--${e}`],o)},p=e=>[].slice.call(e),h=(e,n)=>`data:image/svg+xml;charset=utf8,${encodeURIComponent({back:`<svg fill="${n}" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg>`,next:`<svg fill="${n}" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg>`}[e]||"")}`,g=(e={})=>{const n=document.querySelector("#menu-curtain"),t=document.querySelector("#menu-container"),{onClose:o}=e;let i,s=null,l=!1,u=null,d=null,m=null,v=null,p=!1;const h=()=>{p=!0},g=()=>{if(l&&!p&&(window.requestAnimationFrame(g),s&&Math.abs(s-Math.abs(m))>=30)){const e=Math.min(0,m-u),o=Math.max(0,.7+e/i);t.style.transform=`translateX(${e}px)`,s=m,n.style.opacity=o}},b=function(e){u=e.touches[0].pageX,d=e.touches[0].pageY,m=u,v=d,s=u,l=n.classList.contains("menu-curtain--opened"),c("scroll",a(".menu-level",t),h,{passive:!0}),window.requestAnimationFrame(g)},L=function(e){l&&!p&&(m=e.touches[0].pageX,v=e.touches[0].pageY)},k=function(){if(!l)return;l=!1,p=!1,s=null;const e=Math.min(0,m-u),i=Math.abs(v-d);r("scroll",a(".menu-level",t),h,{passive:!0}),t.style.transform="",n.style.opacity="",i<=Math.abs(e)&&e<0&&o()};return{open:()=>{const e=!0;c("scroll",a(".menu-level",t),h,{passive:!0}),document.addEventListener("touchstart",b,{passive:e}),document.addEventListener("touchmove",L,{passive:e}),document.addEventListener("touchend",k,{passive:e}),i=t.getBoundingClientRect().width},close:()=>{const e=!0;l=!1,p=!1,document.removeEventListener("touchstart",b,{passive:e}),document.removeEventListener("touchmove",L,{passive:e}),document.removeEventListener("touchend",k,{passive:e}),r("scroll",a(".menu-level",t),h,{passive:!0})}}};let b=!1;const L=(e={})=>{if(b)return!0;const{container:s,cadunServiceId:a,cadunLoginURL:l,cadunUsePopin:c}=e,{qs:r}=n,u=i([o,t]),d=r(".menu-login",s),m=r("a.menu-login__item-login__link",d),v=r(".menu-login__item-logout",d),p=r("a.menu-login__item-logout__link",d),h=r(".menu-login__item__name",d),g=r(".menu-login__item__avatar",d),L=r(".menu-login__item__icon--avatar",d),k=r(".menu-login--logged",d),f=r(".menu-login--not-logged",d),w=()=>{const e=window.Cadun.user.me;return"name"in e&&""!==e.name},y=e=>{f.style.display=e[0],v.style.display=e[1],k.style.display=e[2]},_=()=>{window.Cadun.logout((()=>{window.location.href=window.location.href}))},E=e=>{w()&&(p.addEventListener("click",(e=>e.preventDefault())),p.addEventListener("click",u(_),{passive:!0}),p.addEventListener("touchstart",u(_),{passive:!0}),y(["none","block","flex"]),(e=>{g&&L&&(e.picture?(g.innerHTML=`<img src="${e.picture}" alt="${e.name}">`,g.style.display="block",L.style.display="none"):(g.innerHTML="",g.style.display="none",L.style.display="block"))})(e),h.textContent=e.name.split(" ")[0])},C=e=>{if(e.stopPropagation(),!c&&l){const e=window.location.href,n=`${l}/login/${a}?url=${e}`;window.location.href=n}else window.Cadun.login(a,window.location.href,!1,E,void 0,{_ga:window.utag_data.galinker,glbProduct:window.utag_data.productGAId,component:"menu_mobile"})};return window.cq=window.cq||[],window.cq.push({ready:e=>{e.authorize(a,(e=>{"authorized"===e.status?E(e):y(["block","none","none"]),m.addEventListener("click",(e=>e.preventDefault())),m.addEventListener("click",u(C)),m.addEventListener("touchstart",u(C),{passive:!0}),window.Cadun.Event.subscribe("userInfoAvailable",(()=>{const e=window.Cadun.user.me;w()?E(e):w()||y(["block","none","none"])}))}))}}),b=!0,!0},k={debug:!1,color:"#000",cadunServiceId:4728,cadunLoginURL:null,cadunUsePopin:!0,handleGA(){}},f=(e={})=>{const s=Object.assign({},k,e),{qs:a,qsAll:l,attachEvent:c,toArray:r,on:u,off:d}=n,m=((e={})=>{const{debugMode:n=!1,handleGA:t}=e,o="menu mobile",i=(...e)=>(n&&(console.group("menu tracking"),console.log([o,...e]),console.groupEnd("menu tracking")),t(["_trackEvent",o,...e])),s=e=>{const n=[e.querySelector(".menu-item-title").textContent];let t=e;for(;t&&"menu-cascade"!==t.id;t=t.parentNode)t.classList.contains("is-father")&&n.push(t.querySelector(".menu-btn-back__label").textContent);return n.pop(),n.reverse().join(" > ")};return{push:e=>{const n=e.classList;if(n.contains("menu-btn-back")){const n=e.querySelector(".menu-btn-back__label").textContent,t=e.parentElement.querySelector(".regua-navegacao-menu-item").textContent;i("navegacao",`back | ${t} > ${n}`,0,!0)}else if(n.contains("is-father"))i("navegacao",s(e),0,!0);else{const n=e.querySelector(".menu-item-title").textContent,t=s(e.parentElement.parentElement);i("links clicaveis",t?`${t} > ${n}`:n)}},makeTracking:i,sendHorizon:(e,n,t)=>{const o={id:"common-event",version:"0.1",contentType:"common",properties:{eventCategory:"menu mobile",eventAction:t,eventLabel:`${n}`}};e.send(o)}}})(s),v=document.body,p=document.documentElement,b=a("#menu-container"),f=a("#menu-curtain"),w=a(".menu-level-0",b),y=a(".menu-level--opened",b)||a(".menu-level",b),_=a(".menu-rounder",b),E=a(".menu-btn-back__label",b),C=E&&E.textContent,x=a(".menu-btn-back__label",y),q=x&&x.textContent;let $=0;const S=i([o,t]),T=+y.classList.contains("menu-level--opened");let M=T;const A=b.dataset.menuWidth||272,P=e=>{x&&(x.textContent=e)};P(C);const z=e=>{_.style.transform=`translateX(-${e*A}px)`,b.scrollTop=0},H=()=>{const e=r(l(".menu-level--opened",b));e.pop().classList.remove("menu-level--opened","first-layer");const n=e.pop();n&&n.classList.add("first-layer"),n||w.classList.add("first-layer","menu-level--opened"),M>0||(_.classList.add("menu-rounder--opened-all"),P(q)),_.removeEventListener("transitionend",H)},U=e=>{"function"==typeof e&&setTimeout(e,150)},N=S((function(){m.push(this),U((()=>{M=M-1<=0?0:M-1,M<1&&a(".menu-initial",b)&&(M=0,_.classList.remove("menu-initial")),z(M),_.addEventListener("transitionend",H)}))})),R=S((function(){const e=this.parentNode;m.push(e),e.classList.contains("is-father")?U((()=>{const n=+!!a(".menu-level",e);M+=n;const t=e.parentNode;"UL"===t.nodeName&&t.classList.remove("first-layer"),a(".menu-level",e).classList.add("menu-level--opened","first-layer"),z(M)})):this.target?window.open(this.href,this.target):window.location.href=this.href})),j=e=>e.preventDefault(),I=function(){m.makeTracking("links clicaveis",this.dataset.trackingLabel)},O=function(){const e=this.querySelector(".regua-navegacao-menu-item").textContent;m.makeTracking("links nao clicaveis",e)},X=()=>{.14===$&&(v.classList.remove("menu--no-scroll"),p.classList.remove("menu--no-scroll"),r(l(".menu-level--opened",b)).forEach((e=>{e.classList.remove("menu-level--opened")})),$=0,y.classList.add("menu-level--opened"),T&&_.classList.add("menu-initial"),_.classList.remove("menu-rounder--opened-all"),_.style.transform="",M=T,P(C),f.classList.remove("menu-curtain--animate"),w.classList.remove("menu-level--opened"),d("click","menu-btn-back",j),d("click","menu-btn-back",N,{passive:!0}),d("touchstart","menu-btn-back",N,{passive:!0}),d("click","menu-item-link",j),d("click","menu-item-link",R,{passive:!0}),d("touchstart","menu-item-link",R,{passive:!0}),d("click","menu-products-logo__link",I),d("click","menu-submenu-title",O),b.removeEventListener("transitionend",X))},G=e=>{f.classList.remove("menu-curtain--opened"),$=.14,window.HorizonClient&&window.HorizonClient.then((e=>{m.sendHorizon(e,"Fechar","click")})),e?(m.makeTracking("interacoes menu","swipe menu fechado"),e.close()):m.makeTracking("interacoes menu","click menu fechado"),b.addEventListener("transitionend",X)},B=g({onClose:()=>{G(B)}}),D=()=>{T||(_.classList.add("menu-rounder--opened-all"),_.classList.remove("menu-initial"))},F=()=>{a(T?".menu-level--opened":".menu-level-0",b).classList.add("menu-level--opened","first-layer"),u("click","menu-btn-back",j),u("click","menu-btn-back",N,{passive:!0}),u("touchstart","menu-btn-back",N,{passive:!0}),u("click","menu-item-link",j),u("click","menu-item-link",R,{passive:!0}),u("touchstart","menu-item-link",R,{passive:!0}),u("click","menu-products-logo__link",I),u("click","menu-submenu-title",O),B.open(),b.removeEventListener("transitionend",F)},Y=e=>{"menu-curtain"===e.target.id&&(G(),B.close())};return D(),M&&a(".menu-initial",b).classList.add("menu-loaded"),b.style.display="block",((e={})=>{const{color:n}=e,t=document.createElement("style"),o=h("back",n),i=document.createTextNode(`.menu-btn-back__icon { background-image: url('${o}'); }`),s=h("next",n),a=document.createTextNode(`.menu-item-arrow { background-image: url('${s}') }`),l=document.createTextNode(`.menu-product-color { color: ${n}; }`);t.appendChild(i),t.appendChild(a),t.appendChild(l),document.head.appendChild(t)})(s),c("touchstart",f,S(Y),{passive:!0}),c("click",f,S(Y),{passive:!0}),{toggle:(e=null)=>{const n=null!==e?e:!f.classList.contains("menu-curtain--opened");window.HorizonClient&&window.HorizonClient.then((e=>{m.sendHorizon(e,"Abrir","click")})),n?($=.33,v.classList.add("menu--no-scroll"),p.classList.add("menu--no-scroll"),f.classList.add("menu-curtain--opened","menu-curtain--animate"),D(),m.makeTracking("interacoes menu","click menu exibido"),b.addEventListener("transitionend",F),L({container:b,cadunServiceId:s.cadunServiceId,cadunLoginURL:s.cadunLoginURL,cadunUsePopin:s.cadunUsePopin})):(G(),B.close())}}};if(window.glb&&!window.glb.headerError){var w=function(){var e=f({color:glb.cdnConfig.headerProductColor||"#000",handleGA:function(e){window._gaq&&window._gaq.push(e)}});document.addEventListener("glb.mobileMenuV2.open",(function(){e.toggle()}),!1)};window.glb.fnCommonReady?w():document.addEventListener("glb.fn.commonReady",w,!1)}})();